{% extends 'base.html.twig' %}

{% block title %}Kunde{% endblock %}

{% block body %}

    <h1 class="mb-4">Kunde {{ client.name }}</h1>

    <table class="table mb-5">
        <tbody>
        <tr>
            <th>Name Kunde</th>
            <td>{{ client.name }}</td>
        </tr>
        <tr>
            <th>Website</th>
            <td>{{ client.domain }}</td>
        </tr>
        <tr>
            <th>Anzahl aller erfassten Kampagnen</th>
            <td>{{ client.clientCampaigns.count }}</td>
        </tr>
        <tr>
            <th>Anzahl aktive Kampagnen</th>
            <td>{{ client.numberActiveCampaigns }}</td>
        </tr>
        <tr>
            <th>Budget aller erfassten Kampagnen</th>
            <td>CHF {{ client.totalBudget }}</td>
        </tr>
        <tr>
            <th>Budget aktive Kampagnen</th>
            <td>CHF {{ client.activeBudget }}</td>
        </tr>
        </tbody>
    </table>

    <h3 class="mb-4">Kampagnen {{ client.name }}</h3>

    <div class="cards mb-5 row row-cols-1 row-cols-md-2 g-4">

        {% for campaign in client.clientCampaigns %}

            <div class="col">

                <div class="card">
                    <div class="card-header">
                        {{ campaign.name }}
                    </div>
                    <div class="card-body">

                        <ul>
                            <li>CHF {{ campaign.budget }}</li>
                            <li>{{ campaign.startDate ? campaign.startDate|date('d. F Y') : '' }}</li>
                            <li>{{ campaign.endDate ? campaign.endDate|date('d. F Y') : '' }}</li>
                        </ul>

                        <a href="{{ path('app_campaign_show', {'id': campaign.id}) }}">Zur Kampagne</a>
                    </div>
                </div>

            </div>

        {% else %}
            <tr>
                <td colspan="6">Keine Kampagnen gefunden.</td>
            </tr>
        {% endfor %}

    </div>

    <div class="btn-group">
        <a class="btn btn-outline-primary" href="{{ path('app_client_index') }}">Zur√ºck</a>
        <a class="btn btn-outline-primary" href="{{ path('app_client_edit', {'id': client.id}) }}">Bearbeiten</a>
    </div>

{% endblock %}
